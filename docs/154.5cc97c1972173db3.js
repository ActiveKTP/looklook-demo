"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[154],{4154:(te,v,l)=>{l.r(v),l.d(v,{PetModule:()=>ee});var m=l(177),d=l(9417),C=l(4550),g=l(837),b=l(4058),y=l(7470),M=l(3660),e=l(4438),j=l(7586),F=l.n(j),c=l(1626),_=l(3646);let T=(()=>{class i{http;apiUrl="https://looklook.pet/api/v1/pet";token=new _.o;constructor(t){this.http=t}getPets(t){console.log("==getPets call==");const o=`${this.apiUrl}?page=${t.page}&limit=${t.limit}&order=${t.order}&orderBy=${t.orderBy}`,r={headers:new c.Lr({Authorization:`Bearer ${this.token.requestAuthToken()}`})};return this.http.get(o,r)}getPet(t){return this.http.get(`${this.apiUrl}/${t}`)}createPet(t){return this.http.post(this.apiUrl,t)}updatePet(t,o){return this.http.put(`${this.apiUrl}/${t}`,o)}deletePet(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(o){return new(o||i)(e.KVO(c.Qq))};static \u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var $=l(3621);let x=(()=>{class i{http;apiUrl="https://looklook.pet/api/v1/pet-type";token=new _.o;constructor(t){this.http=t}getTypes(){console.log("==get type call==");const t=`${this.apiUrl}`,n={headers:new c.Lr({Authorization:`Bearer ${this.token.requestAuthToken()}`})};return this.http.get(t,n)}static \u0275fac=function(o){return new(o||i)(e.KVO(c.Qq))};static \u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var f=l(7673);let E=(()=>{class i{mockBreeds=[{_id:"66013c3546e77c020955c6ac",name:"dog",breeds:[{name:{_id:"1",en:"Golden Retriever",th:"\u0e42\u0e01\u0e25\u0e40\u0e14\u0e49\u0e19 \u0e23\u0e35\u0e17\u0e23\u0e35\u0e1f\u0e40\u0e27\u0e2d\u0e23\u0e4c"}},{name:{_id:"2",en:"Rottweiler",th:"\u0e23\u0e47\u0e2d\u0e15\u0e44\u0e27\u0e40\u0e25\u0e2d\u0e23\u0e4c"}},{name:{_id:"3",en:"Pitbull",th:"\u0e1e\u0e34\u0e15\u0e1a\u0e39\u0e25"}},{name:{_id:"4",en:"Chihuahua",th:"\u0e0a\u0e34\u0e27\u0e32\u0e27\u0e32"}},{name:{_id:"5",en:"Jack Russell",th:"\u0e41\u0e08\u0e47\u0e04\u0e23\u0e31\u0e2a\u0e40\u0e0b\u0e25\u0e25\u0e4c \u0e40\u0e17\u0e2d\u0e23\u0e4c\u0e40\u0e23\u0e35\u0e22"}}]},{_id:"66013cff271372ef257f33f0",name:"cat",breeds:[{name:{_id:"6",en:"Korat",th:"\u0e44\u0e17\u0e22\u0e42\u0e04\u0e23\u0e32\u0e0a"}},{name:{_id:"7",en:"Siamese",th:"\u0e44\u0e17\u0e22\u0e27\u0e34\u0e40\u0e0a\u0e35\u0e22\u0e23\u0e21\u0e32\u0e28"}},{name:{_id:"8",en:"Khao Manee",th:"\u0e44\u0e17\u0e22\u0e02\u0e32\u0e27\u0e21\u0e13\u0e35"}},{name:{_id:"9",en:"Exotic Shorthair",th:"\u0e40\u0e2d\u0e47\u0e01\u0e42\u0e0b\u0e15\u0e34\u0e01 \u0e0a\u0e47\u0e2d\u0e15\u0e41\u0e2e\u0e23\u0e4c"}},{name:{_id:"10",en:"American Shorthair",th:"\u0e2d\u0e40\u0e21\u0e23\u0e34\u0e01\u0e31\u0e19 \u0e0a\u0e47\u0e2d\u0e15\u0e41\u0e2e\u0e23\u0e4c"}}]}];constructor(){}getBreeds(){return console.log("==get Breed call=="),console.log(this.mockBreeds),(0,f.of)(this.mockBreeds)}getBreedsType(t){const o=this.mockBreeds.find(n=>n.name===t);return console.log(o),o?(console.log(o.breeds),(0,f.of)(o.breeds)):(console.warn(`Pet type '${t}' not found in mockBreeds.`),(0,f.of)([]))}static \u0275fac=function(o){return new(o||i)};static \u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),S=(()=>{class i{mockgroupAges=[{name:{en:"Junior",th:"\u0e27\u0e31\u0e22\u0e40\u0e14\u0e47\u0e01"},_id:"6614dde3e4365818a508ee5d",min:0,max:2},{name:{en:"Prime",th:"\u0e27\u0e31\u0e22\u0e2b\u0e19\u0e38\u0e48\u0e21\u0e2a\u0e32\u0e27"},_id:"6614e32755aa415362325938",min:3,max:6},{name:{en:"Mature",th:"\u0e42\u0e15\u0e40\u0e15\u0e47\u0e21\u0e27\u0e31\u0e22"},_id:"6614ddf0c12876cb2d0737e4",min:6,max:10},{name:{en:"Senior",th:"\u0e27\u0e31\u0e22\u0e2d\u0e32\u0e27\u0e38\u0e42\u0e2a"},_id:"6614ddf75b40df03a10abfe0",min:11,max:15},{name:{en:"Old",th:"\u0e27\u0e31\u0e22\u0e0a\u0e23\u0e32"},_id:"6614ddff1e42423d7aa660af",min:16,max:30}];constructor(){}getGroupOfAges(){return console.log("==get Breed call=="),console.log(this.mockgroupAges),(0,f.of)(this.mockgroupAges)}static \u0275fac=function(o){return new(o||i)};static \u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),R=(()=>{class i{http;apiUrl="https://looklook.pet/api/v1/color";token=new _.o;constructor(t){this.http=t}getColors(){console.log("==get Color call==");const t=`${this.apiUrl}`,n={headers:new c.Lr({Authorization:`Bearer ${this.token.requestAuthToken()}`})};return this.http.get(t,n)}static \u0275fac=function(o){return new(o||i)(e.KVO(c.Qq))};static \u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),w=(()=>{class i{http;apiUrl="https://looklook.pet/api/v1/tag";token=new _.o;constructor(t){this.http=t}getTags(){console.log("==get Tag call==");const t=`${this.apiUrl}`,n={headers:new c.Lr({Authorization:`Bearer ${this.token.requestAuthToken()}`})};return this.http.get(t,n)}static \u0275fac=function(o){return new(o||i)(e.KVO(c.Qq))};static \u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var P=l(8777),G=l(5126);const I=["noticeSwal"],k=i=>({"ki-up":i});function D(i,s){1&i&&(e.j41(0,"div"),e.EFF(1,"owner is required"),e.k0s())}function B(i,s){if(1&i&&(e.j41(0,"div",75),e.DNE(1,D,2,0,"div",76),e.k0s()),2&i){e.XpG();const t=e.sdS(30);e.R7$(),e.Y8G("ngIf",null==t.errors?null:t.errors.required)}}function A(i,s){1&i&&(e.j41(0,"div"),e.EFF(1,"Name is required"),e.k0s())}function L(i,s){1&i&&(e.j41(0,"div"),e.EFF(1," Name must be at least 4 characters long "),e.k0s())}function N(i,s){if(1&i&&(e.j41(0,"div",75),e.DNE(1,A,2,0,"div",76)(2,L,2,0,"div",76),e.k0s()),2&i){e.XpG();const t=e.sdS(30);e.R7$(),e.Y8G("ngIf",null==t.errors?null:t.errors.required),e.R7$(),e.Y8G("ngIf",null==t.errors?null:t.errors.minlength)}}function Y(i,s){1&i&&e.nrm(0,"div",81)}function O(i,s){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",77)(2,"div",62)(3,"input",78,9),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.petModel.type,n)||(r.petModel.type=n),e.Njj(n)}),e.bIt("change",function(){const n=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.onPetTypeChange(n.name.en))}),e.k0s(),e.j41(5,"label",79)(6,"div",65),e.EFF(7),e.nI1(8,"titlecase"),e.k0s(),e.j41(9,"div",66),e.EFF(10),e.k0s()()()(),e.DNE(11,Y,1,0,"div",80),e.k0s()}if(2&i){const t=s.$implicit,o=s.last,n=e.XpG(2);e.R7$(3),e.Mz_("id","kt_modal_update_type_option_",t._id,""),e.R50("ngModel",n.petModel.type),e.Y8G("value",t.name.en)("checked",o),e.R7$(2),e.Mz_("for","kt_modal_update_type_option_",t._id,""),e.R7$(2),e.SpI(" ",e.bMT(8,10,t.name.en)," "),e.R7$(3),e.SpI(" ",t.name.th," "),e.R7$(),e.Y8G("ngIf",!o)}}function U(i,s){1&i&&e.nrm(0,"div",81)}function V(i,s){if(1&i&&(e.j41(0,"div")(1,"div",82)(2,"div",62),e.nrm(3,"input",83),e.j41(4,"label",79)(5,"div",65),e.EFF(6),e.nI1(7,"titlecase"),e.k0s(),e.j41(8,"div",66),e.EFF(9),e.k0s()()()(),e.DNE(10,U,1,0,"div",80),e.k0s()),2&i){const t=s.$implicit,o=s.last,n=e.XpG(2);e.R7$(3),e.Mz_("id","breed_",t.name._id,""),e.Mz_("name","breed_",t.name._id,""),e.Y8G("ngModel",n.petModel.breeds.includes(t.name._id)),e.R7$(),e.Mz_("for","breed_",t.name._id,""),e.R7$(2),e.SpI(" ",e.bMT(7,10,t.name.en)," "),e.R7$(3),e.SpI(" ",t.name.th," "),e.R7$(),e.Y8G("ngIf",!o)}}function X(i,s){1&i&&e.nrm(0,"div",81)}function z(i,s){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",77)(2,"div",62)(3,"input",84,10),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.petModel.groupOfAge,n)||(r.petModel.groupOfAge=n),e.Njj(n)}),e.k0s(),e.j41(5,"label",79)(6,"div",65),e.EFF(7),e.nI1(8,"titlecase"),e.k0s(),e.j41(9,"div",66),e.EFF(10),e.k0s()()()(),e.DNE(11,X,1,0,"div",80),e.k0s()}if(2&i){const t=s.$implicit,o=s.last,n=e.XpG(2);e.R7$(3),e.Mz_("id","kt_modal_update_groupOfAge_option_",t._id,""),e.R50("ngModel",n.petModel.groupOfAge),e.Y8G("value",t._id)("checked",o),e.R7$(2),e.Mz_("for","kt_modal_update_groupOfAge_option_",t._id,""),e.R7$(2),e.SpI(" ",e.bMT(8,10,t.name.en)," "),e.R7$(3),e.SpI(" ",t.name.th," "),e.R7$(),e.Y8G("ngIf",!o)}}function H(i,s){1&i&&e.nrm(0,"div",81)}function q(i,s){if(1&i&&(e.j41(0,"div")(1,"div",77)(2,"div",62),e.nrm(3,"input",85),e.j41(4,"label",79)(5,"div",65),e.EFF(6),e.nI1(7,"titlecase"),e.k0s(),e.j41(8,"div",66),e.EFF(9),e.k0s()()()(),e.DNE(10,H,1,0,"div",80),e.k0s()),2&i){const t=s.$implicit,o=s.last,n=e.XpG(2);e.R7$(3),e.Mz_("id","color_",t._id,""),e.Mz_("name","color_",t._id,""),e.Y8G("ngModel",n.petModel.colors.includes(t._id))("value",t._id),e.R7$(),e.Mz_("for","color_",t._id,""),e.R7$(2),e.SpI(" ",e.bMT(7,11,t.name.en)," "),e.R7$(3),e.SpI(" ",t.name.th," "),e.R7$(),e.Y8G("ngIf",!o)}}function Q(i,s){1&i&&e.nrm(0,"div",81)}function K(i,s){if(1&i&&(e.j41(0,"div")(1,"div",77)(2,"div",62),e.nrm(3,"input",85),e.j41(4,"label",79)(5,"div",65),e.EFF(6),e.nI1(7,"titlecase"),e.k0s(),e.j41(8,"div",66),e.EFF(9),e.k0s()()()(),e.DNE(10,Q,1,0,"div",80),e.k0s()),2&i){const t=s.$implicit,o=s.last,n=e.XpG(2);e.R7$(3),e.Mz_("id","tag_",t._id,""),e.Mz_("name","tag_",t._id,""),e.Y8G("ngModel",n.petModel.tags.includes(t._id))("value",t._id),e.R7$(),e.Mz_("for","tag_",t._id,""),e.R7$(2),e.SpI(" ",e.bMT(7,11,t.name.en)," "),e.R7$(3),e.SpI(" ",t.name.th," "),e.R7$(),e.Y8G("ngIf",!o)}}function J(i,s){if(1&i){const t=e.RV6();e.j41(0,"form",23,2),e.bIt("ngSubmit",function(n){e.eBV(t);const r=e.sdS(1),a=e.XpG();return e.Njj(a.onSubmit(n,r))}),e.j41(2,"div",24)(3,"h4",25),e.EFF(4,"Pet Details"),e.k0s(),e.j41(5,"button",26),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("Cross click"))}),e.k0s()(),e.j41(6,"div",27)(7,"div",28)(8,"div",29),e.bIt("click",function(){e.eBV(t);const n=e.sdS(13);return e.Njj(n.toggle())}),e.EFF(9," owner Information "),e.j41(10,"span",30),e.nrm(11,"i",31),e.k0s()(),e.j41(12,"div",32,3),e.mxI("ngbCollapseChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.isCollapsed2,n)||(r.isCollapsed2=n),e.Njj(n)}),e.j41(14,"div",33)(15,"label",34),e.EFF(16,"Owner"),e.k0s(),e.j41(17,"input",35,4),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.petModel.owner,n)||(r.petModel.owner=n),e.Njj(n)}),e.k0s(),e.DNE(19,B,2,1,"div",36),e.k0s()(),e.j41(20,"div",37),e.bIt("click",function(){e.eBV(t);const n=e.sdS(25);return e.Njj(n.toggle())}),e.EFF(21," pet Information "),e.j41(22,"span",30),e.nrm(23,"i",31),e.k0s()(),e.j41(24,"div",32,5),e.mxI("ngbCollapseChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.isCollapsed1,n)||(r.isCollapsed1=n),e.Njj(n)}),e.j41(26,"div",33)(27,"label",34),e.EFF(28,"Name"),e.k0s(),e.j41(29,"input",38,6),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.petModel.name,n)||(r.petModel.name=n),e.Njj(n)}),e.k0s(),e.DNE(31,N,3,2,"div",36),e.k0s(),e.nrm(32,"div",39),e.j41(33,"div",33)(34,"label",40)(35,"span",41),e.EFF(36,"Photo"),e.k0s()(),e.j41(37,"div",42)(38,"div",43),e.nrm(39,"input",44)(40,"input",45),e.j41(41,"div",46),e.nrm(42,"i",47),e.k0s(),e.j41(43,"span",48),e.EFF(44," Click to remove or revert "),e.k0s(),e.j41(45,"div",49),e.nrm(46,"div",50),e.k0s()()()(),e.nrm(47,"div",39),e.j41(48,"div",33)(49,"label",40)(50,"span",41),e.EFF(51,"Date & Time"),e.k0s(),e.j41(52,"span",51)(53,"i",52),e.nrm(54,"span",53)(55,"span",54)(56,"span",55),e.k0s()()(),e.j41(57,"input",56,7),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.petModel.birthDate,n)||(r.petModel.birthDate=n),e.Njj(n)}),e.k0s()(),e.nrm(59,"div",39),e.j41(60,"div",57)(61,"label",58),e.EFF(62,"Type"),e.k0s(),e.DNE(63,O,12,12,"div",59),e.nI1(64,"async"),e.k0s(),e.nrm(65,"div",39),e.j41(66,"div",57)(67,"label",58),e.EFF(68,"Breeds"),e.k0s(),e.DNE(69,V,11,12,"div",59),e.nI1(70,"async"),e.k0s(),e.nrm(71,"div",39),e.j41(72,"div",57)(73,"label",58),e.EFF(74,"Gender"),e.k0s(),e.j41(75,"div",60)(76,"div",61)(77,"div",62)(78,"input",63,8),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.petModel.gender,n)||(r.petModel.gender=n),e.Njj(n)}),e.k0s(),e.j41(80,"label",64)(81,"div",65),e.EFF(82,"male"),e.k0s(),e.j41(83,"div",66),e.EFF(84,"\u0e15\u0e31\u0e27\u0e1c\u0e39\u0e49"),e.k0s()()()(),e.j41(85,"div",61)(86,"div",62)(87,"input",67,8),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.petModel.gender,n)||(r.petModel.gender=n),e.Njj(n)}),e.k0s(),e.j41(89,"label",64)(90,"div",65),e.EFF(91,"female"),e.k0s(),e.j41(92,"div",66),e.EFF(93,"\u0e15\u0e31\u0e27\u0e40\u0e21\u0e35\u0e22"),e.k0s()()()()()(),e.nrm(94,"div",39),e.j41(95,"div",57)(96,"label",68),e.EFF(97,"Group Of Age"),e.k0s(),e.DNE(98,z,12,12,"div",59),e.nI1(99,"async"),e.k0s(),e.nrm(100,"div",39),e.j41(101,"div",57)(102,"label",58),e.EFF(103,"Colors"),e.k0s(),e.DNE(104,q,11,13,"div",59),e.nI1(105,"async"),e.k0s(),e.nrm(106,"div",39),e.j41(107,"div",57)(108,"label",58),e.EFF(109,"Tags"),e.k0s(),e.DNE(110,K,11,13,"div",59),e.nI1(111,"async"),e.k0s()()()(),e.j41(112,"div",69)(113,"button",70),e.bIt("click",function(){const n=e.eBV(t).$implicit;return e.Njj(n.dismiss("cancel"))}),e.EFF(114," Discard "),e.k0s(),e.j41(115,"button",71)(116,"span",72),e.EFF(117," Submit "),e.k0s(),e.j41(118,"span",73),e.EFF(119," Please wait... "),e.nrm(120,"span",74),e.k0s()()()()}if(2&i){let t,o,n;const r=e.sdS(1),a=e.XpG();e.R7$(8),e.BMQ("aria-expanded",!a.isCollapsed2),e.R7$(3),e.Y8G("ngClass",e.eq3(29,k,!a.isCollapsed2)),e.R7$(),e.R50("ngbCollapse",a.isCollapsed2),e.R7$(5),e.R50("ngModel",a.petModel.owner),e.R7$(2),e.Y8G("ngIf",r.submitted&&r.invalid),e.R7$(),e.BMQ("aria-expanded",!a.isCollapsed1),e.R7$(3),e.Y8G("ngClass",e.eq3(31,k,!a.isCollapsed1)),e.R7$(),e.R50("ngbCollapse",a.isCollapsed1),e.R7$(5),e.R50("ngModel",a.petModel.name),e.R7$(2),e.Y8G("ngIf",r.submitted&&r.invalid),e.R7$(26),e.R50("ngModel",a.petModel.birthDate),e.R7$(6),e.Y8G("ngForOf",null==(t=e.bMT(64,19,a.petTypes$))?null:t.petTypes),e.R7$(6),e.Y8G("ngForOf",e.bMT(70,21,a.petBreed$)),e.R7$(9),e.R50("ngModel",a.petModel.gender),e.R7$(9),e.R50("ngModel",a.petModel.gender),e.R7$(11),e.Y8G("ngForOf",e.bMT(99,23,a.petGroupAge$)),e.R7$(6),e.Y8G("ngForOf",null==(o=e.bMT(105,25,a.petColors$))?null:o.colors),e.R7$(6),e.Y8G("ngForOf",null==(n=e.bMT(111,27,a.petTags$))?null:n.tags),e.R7$(5),e.BMQ("data-kt-indicator",a.isLoading?"on":"off")}}let Z=(()=>{class i{apiService;roleService;petTypeService;petBreedService;petGroupAgeService;petColorService;petTagService;cdr;isCollapsed1=!1;isCollapsed2=!1;isLoading=!1;pets;datatableConfig={};reloadEvent=new e.bkB;aPet;petModel={_id:"",type:"",breedType:"",breeds:[],photoUrl:"",name:"",size:"",bloodGroup:"",weight:0,weightUnit:"",birthDate:"",birthYear:0,adoptionDate:"",tags:[],about:"",colors:[],certifiedPedigreeUrl:"",petMedicals:[],owner:"",active:!1,deleted:!1,deleteReason:{reason:"",remark:""},groupOfAge:{en:"",th:""},gender:{en:"",th:""},createdAt:"",updatedAt:""};noticeSwal;swalOptions={};roles$;petTypes$;petColors$;petTags$;petBreed$;petGroupAge$;constructor(t,o,n,r,a,p,h,u){this.apiService=t,this.roleService=o,this.petTypeService=n,this.petBreedService=r,this.petGroupAgeService=a,this.petColorService=p,this.petTagService=h,this.cdr=u}ngAfterViewInit(){}ngOnInit(){this.datatableConfig={serverSide:!0,ajax:(t,o)=>{this.apiService.getPets(t).subscribe(n=>{o({draw:t.draw,recordsTotal:n.total,recordsFiltered:n.total,data:n.pets}),console.log(n)})},columns:[{title:"Type",data:"type",render:function(t,o,n){if("cat"==n.type.name.en)var a=`\n              <div class="symbol-label fs-3 bg-light-warning text-warning">\n              ${n.type.name.en}\n              </div>\n            `;else a=`\n              <div class="symbol-label fs-3 bg-light-info text-info">\n              ${n.type.name.en}\n              </div>\n            `;return`\n              <div class="symbol symbol-circle symbol-50px overflow-hidden me-3" data-action="view" data-id="${n.id}">\n                <a href="javascript:;">\n                  ${a}\n                </a>\n              </div>\n            `}},{title:"Name",data:"name",render:function(t,o,n){return n.name||""},orderData:[1],orderSequence:["asc","desc"],type:"string"},{title:"Breeds",data:"breeds",render:function(t,o,n){return n.breeds[0]?.name?.th||""},orderData:[2],orderSequence:["asc","desc"],type:"string"},{title:"Gender",data:"gender",render:(t,o,n)=>{const r=n.gender?.en;return"male"==r?'<i class="fa-solid fa-mars fs-2 text-primary"></i>':"female"==r?'<i class="fa-solid fa-venus fs-2 text-info"></i>':'<i class="fa-solid fa-genderless fs-2"></i>'},orderData:[3],orderSequence:["asc","desc"],type:"string"},{title:"Joined Date",data:"createdAt",render:function(t){return F()(t).format("DD MMM YYYY, hh:mm a")},orderData:[4],orderSequence:["asc","desc"],type:"string"}],createdRow:function(t,o,n){}},this.petTypes$=this.petTypeService.getTypes(),console.log(this.petTypes$),this.petGroupAge$=this.petGroupAgeService.getGroupOfAges(),console.log(this.petGroupAge$),this.petColors$=this.petColorService.getColors(),console.log(this.petColors$),this.petTags$=this.petTagService.getTags(),console.log(this.petTags$)}delete(t){this.apiService.deletePet(t).subscribe(()=>{this.reloadEvent.emit(!0)})}edit(t){this.aPet=this.apiService.getPet(t),this.aPet.subscribe(o=>{this.petModel=o})}create(){this.petModel={_id:"",type:"",breedType:"",breeds:[],photoUrl:"",name:"",size:"",bloodGroup:"",weight:0,weightUnit:"",birthDate:"",birthYear:0,adoptionDate:"",tags:[],about:"",colors:[],certifiedPedigreeUrl:"",petMedicals:[],owner:"",active:!1,deleted:!1,deleteReason:{reason:"",remark:""},groupOfAge:{en:"",th:""},gender:{en:"",th:""},createdAt:"",updatedAt:""}}onSubmit(t,o){if(o&&o.invalid)return;this.isLoading=!0;const n={icon:"success",title:"Success!",text:""!=this.petModel._id?"User updated successfully!":"User created successfully!"},r={icon:"error",title:"Error!",text:""},a=()=>{this.isLoading=!1};""!=this.petModel._id?(()=>{this.apiService.updatePet(this.petModel._id,this.petModel).subscribe({next:()=>{this.showAlert(n),this.reloadEvent.emit(!0)},error:u=>{r.text=this.extractText(u.error),this.showAlert(r),this.isLoading=!1},complete:a})})():(()=>{this.apiService.createPet(this.petModel).subscribe({next:()=>{this.showAlert(n),this.reloadEvent.emit(!0)},error:u=>{r.text=this.extractText(u.error),this.showAlert(r),this.isLoading=!1},complete:a})})()}extractText(t){var o=[];for(var n in t)"string"==typeof t[n]?o.push(t[n]):"object"==typeof t[n]&&(o=o.concat(this.extractText(t[n])));return Array.from(new Set(o)).join("\n")}showAlert(t){let o=t.icon?.toString()||"success";"error"===t.icon&&(o="danger"),this.swalOptions=Object.assign({buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-"+o}},t),this.cdr.detectChanges(),this.noticeSwal.fire()}ngOnDestroy(){this.reloadEvent.unsubscribe()}onPetTypeSelect(t){}selectedPetType;onPetTypeChange(t){console.log("petType==",t),this.selectedPetType=t,this.petBreed$=this.petBreedService.getBreedsType(t)}static \u0275fac=function(o){return new(o||i)(e.rXU(T),e.rXU($.W),e.rXU(x),e.rXU(E),e.rXU(S),e.rXU(R),e.rXU(w),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:i,selectors:[["app-pet-listing"]],viewQuery:function(o,n){if(1&o&&e.GBs(I,5),2&o){let r;e.mGM(r=e.lsd())&&(n.noticeSwal=r.first)}},decls:16,vars:4,consts:[["noticeSwal",""],["formModal",""],["myForm","ngForm"],["collapse2","ngbCollapse"],["owner","ngModel"],["collapse1","ngbCollapse"],["name","ngModel"],["birthDate","ngModel"],["gender","ngModel"],["type","ngModel"],["groupOfAge","ngModel"],[1,"card"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],["name","magnifier",1,"fs-3","position-absolute","ms-5"],["type","text","data-action","filter","placeholder","Search pets",1,"form-control","form-control-solid","w-250px","ps-12"],[1,"card-toolbar"],[1,"d-flex","justify-content-end"],["type","button","data-action","create",1,"btn","btn-primary"],[1,"card-body","pt-0"],["route","/apps/pets",3,"deleteEvent","editEvent","createEvent","datatableConfig","reload","modal"],[3,"swalOptions"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["id","kt_modal_update_customer_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_update_customer_header","data-kt-scroll-wrappers","#kt_modal_update_customer_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7","mw-650px"],["data-bs-toggle","collapse","role","button","aria-controls","kt_modal_update_customer_owner_info",1,"fw-bold","fs-3","rotate","collapsible","mb-7",3,"click"],[1,"ms-2","rotate-180"],[1,"ki-duotone","ki-down","fs-3",3,"ngClass"],[1,"collapse","show",3,"ngbCollapseChange","ngbCollapse"],[1,"fv-row","mb-7"],[1,"required","fw-semibold","fs-6","mb-2"],["type","text","name","owner","required","","minlength","4",1,"form-control","form-control-solid",3,"ngModelChange","ngModel"],["class","fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback",4,"ngIf"],["data-bs-toggle","collapse","role","button","aria-controls","kt_modal_update_customer_pet_info",1,"fw-bold","fs-3","rotate","collapsible","mb-7",3,"click"],["type","text","name","name","required","","minlength","4",1,"form-control","form-control-solid",3,"ngModelChange","ngModel"],[1,"separator","separator-dashed","my-5"],[1,"fs-6","fw-semibold","form-label","mb-2"],[1,"required"],[1,"flex","justify-center","items-center"],["data-image-input","true",1,"image-input","size-16"],["accept",".png, .jpg, .jpeg","name","petPhoto","type","file"],["name","avatar_remove","type","hidden"],["data-image-input-remove","true","data-tooltip","#image_input_tooltip","data-tooltip-trigger","hover",1,"btn","btn-icon","btn-icon-xs","btn-light","shadow-default","absolute","z-1","size-5","-top-0.5","-right-0.5","rounded-full"],[1,"ki-outline","ki-cross"],["id","image_input_tooltip",1,"tooltip"],[1,"image-input-placeholder",2,"background-image","url(media/avatars/blank.png)"],[1,"image-input-preview",2,"background-image","url(media/avatars/300-2.png)"],["data-bs-toggle","popover","data-bs-trigger","hover","data-bs-html","true","data-bs-content","Select a date & time.",1,"ms-2"],[1,"ki-duotone","ki-information","fs-7"],[1,"path1"],[1,"path2"],[1,"path3"],["placeholder","yyyy-mm-dd","name","birthDate","id","birthDate",1,"form-control","form-control-solid",3,"ngModelChange","ngModel"],[1,"mb-7"],[1,"required","fw-semibold","fs-6","mb-5"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-6"],[1,"form-check","form-check-custom","form-check-solid"],["name","gender","type","radio","value","male","checked","last",1,"form-check-input","me-3",3,"ngModelChange","ngModel"],[1,"form-check-label"],[1,"fw-bold","text-gray-800"],[1,"text-gray-600"],["name","gender","type","radio","value","female","checked","last",1,"form-check-input","me-3",3,"ngModelChange","ngModel"],[1,"fw-semibold","fs-6","mb-5"],[1,"modal-footer","flex-center"],["type","reset","id","kt_modal_update_customer_cancel",1,"btn","btn-light","me-3",3,"click"],["type","submit","id","kt_modal_update_customer_submit",1,"btn","btn-primary"],[1,"indicator-label"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"fv-plugins-message-container","fv-plugins-message-container--enabled","invalid-feedback"],[4,"ngIf"],[1,"d-flex","fv-row"],["name","type","type","radio",1,"form-check-input","me-3",3,"ngModelChange","change","id","ngModel","value","checked"],[1,"form-check-label",3,"for"],["class","my-5",4,"ngIf"],[1,"my-5"],[1,"d-flex","flex-row"],["type","checkbox",1,"form-check-input","me-3",3,"id","name","ngModel"],["name","groupOfAge","type","radio",1,"form-check-input","me-3",3,"ngModelChange","id","ngModel","value","checked"],["type","checkbox",1,"form-check-input","me-3",3,"id","name","ngModel","value"]],template:function(o,n){if(1&o){const r=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14),e.nrm(4,"app-keenicon",15)(5,"input",16),e.k0s()(),e.j41(6,"div",17)(7,"div",18)(8,"button",19),e.EFF(9," Add pet "),e.k0s()()()(),e.j41(10,"div",20)(11,"app-action-crud",21),e.bIt("deleteEvent",function(p){return e.eBV(r),e.Njj(n.delete(p))})("editEvent",function(p){return e.eBV(r),e.Njj(n.edit(p))})("createEvent",function(){return e.eBV(r),e.Njj(n.create())}),e.k0s()()(),e.nrm(12,"swal",22,0),e.DNE(14,J,121,33,"ng-template",null,1,e.C5r)}if(2&o){const r=e.sdS(15);e.R7$(11),e.Y8G("datatableConfig",n.datatableConfig)("reload",n.reloadEvent)("modal",r),e.R7$(),e.Y8G("swalOptions",n.swalOptions)}},dependencies:[m.YU,m.Sq,m.bT,d.qT,d.me,d.Zm,d.Fm,d.BC,d.cb,d.YS,d.xh,d.vS,d.cV,P.i,G.w,g.$G,b.b7,m.Jj,m.PV]})}return i})(),W=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275cmp=e.VBU({type:i,selectors:[["app-pet-details"]],decls:2,vars:0,template:function(o,n){1&o&&(e.j41(0,"p"),e.EFF(1,"pet-details works!"),e.k0s())}})}return i})(),ee=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=e.$C({type:i});static \u0275inj=e.G2t({imports:[m.MD,d.YN,d.X1,C.iI.forChild([{path:"",component:Z},{path:":id",component:W}]),M.B,y.G,g.Pv,g.zH,g.HC,g.n8,b.RZ.forChild()]})}return i})()}}]);